##################################################################################
############################  环境配置默认需要修改 #################################
##################################################################################

# 1、配置启动环境
spring.profiles.active=prod


##################################################################################
############################# 通用配置默认不需要修改 ################################
##################################################################################

# 2、mybatis配置
mybatis-plus.mapper-locations=classpath:mapper/*.xml
mybatis-plus.type-aliases-package=com.jack.jackAdvanced.domain.entity
mybatis-plus.configuration.map-underscore-to-camel-case=true
mybatis-plus.configuration.cache-enabled=false
mybatis-plus.configuration.log-impl=org.apache.ibatis.logging.stdout.StdOutImpl
mybatis-plus.global-config.db-column-underline=true
mybatis-plus.global-config.id-type=0

# 3、logback日志配置
# 设置应用的日志级别及路径
logging.config=classpath:logback-spring.xml
logging.level.com.jack.jackAdvanced=debug 
log.file.name.path=./logs/%d{yyyy-MM-dd}/cims-%i.log
log.errorfile.name.path=./logs/%d{yyyy-MM-dd}/error-%i.log
# 最长保留天数
log.maxhistory=30
# 文件单个最大为多少
log.maxFileSize=50MB
# 文件总共最大为多少
log.totalsizecap=1GB
# 输出格式
log.out.encoder=%d %-4relative [%thread] %-5level %logger{35} - %msg%n

# 4、文件上传大小限制配置
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=10MB


# 5、MinIO对象存储相关配置
minio.url=http://121.4.221.119:9090/
minio.bucketName=jackadvanced
minio.accessKey=minioadmin
minio.secretKey=minioadmin


# 6、配置数据库读写分离组件
# 数据源名字
spring.shardingsphere.datasource.names=master,slave
spring.shardingsphere.datasource.master.type=com.alibaba.druid.pool.DruidDataSource
# 主库地址配置
spring.shardingsphere.datasource.master.driver-class-name=com.mysql.cj.jdbc.Driver
spring.shardingsphere.datasource.master.url=jdbc:mysql://121.4.221.119:3307/jackAdvanced?allowMultiQueries=true&useUnicode=true&characterEncoding=UTF8&zeroDateTimeBehavior=convertToNull&useSSL=false
spring.shardingsphere.datasource.master.username=root
spring.shardingsphere.datasource.master.password=root
# 从库地址配置
spring.shardingsphere.datasource.slave.type=com.alibaba.druid.pool.DruidDataSource
spring.shardingsphere.datasource.slave.driver-class-name=com.mysql.cj.jdbc.Driver
spring.shardingsphere.datasource.slave.url=jdbc:mysql://121.4.221.119:3308/jackAdvanced?allowMultiQueries=true&useUnicode=true&characterEncoding=UTF8&zeroDateTimeBehavior=convertToNull&useSSL=false
spring.shardingsphere.datasource.slave.username=root
spring.shardingsphere.datasource.slave.password=root
# 负载均衡算法
spring.shardingsphere.masterslave.load-balance-algorithm-type=round_robin
spring.shardingsphere.masterslave.name=ms
spring.shardingsphere.masterslave.master-data-source-name=master
spring.shardingsphere.masterslave.slave-data-source-names=slave
spring.shardingsphere.props.sql.show=true
